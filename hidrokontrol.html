<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Destek Sohbet ModÃ¼lÃ¼</title>
<style>
  :root{
    --green:#16a34a;         /* baÅŸlÄ±k/aksan */
    --green-600:#059669;
    --bg:#f3f4f6;            /* sayfa arka planÄ± */
    --card:#ffffff;
    --shadow:0 20px 40px rgba(0,0,0,.12);
    --radius:18px;
  }
  html,body{height:100%;background:var(--bg);margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:#111827;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none; /* Ä°steÄŸe baÄŸlÄ±: seÃ§imi de kapatÄ±r */}
  /* YÃ¼zen tetikleyici dÃ¼ÄŸme */
  .chat-fab{
    position:fixed;bottom:22px;left:22px;z-index:50;
    width:58px;height:58px;border-radius:9999px;border:none;cursor:pointer;
    background:var(--green);color:#fff;box-shadow:var(--shadow);display:grid;place-items:center;
    transition:transform .18s ease, box-shadow .18s ease, background .18s ease;
  }
  .chat-fab:hover{transform:translateY(-2px);box-shadow:0 24px 60px rgba(0,0,0,.18);background:var(--green-600)}
  /* Panel */
  .chat-panel{
    position:fixed;bottom:92px;left:22px;z-index:40;
    width:min(92vw,340px);max-height:min(70vh,560px);
    background:var(--card);border-radius:24px;box-shadow:var(--shadow);
    overflow:hidden;display:none;flex-direction:column;
  }
  .chat-panel.open{display:flex;animation:pop .2s ease}
  @keyframes pop{from{transform:translateY(8px);opacity:0}to{transform:translateY(0);opacity:1}}
  .chat-header{
    background:linear-gradient(180deg, #22c55e, var(--green));
    color:#fff;padding:18px 18px;border-bottom:1px solid rgba(255,255,255,.15);
  }
  .chat-header h3{margin:0;font-size:20px;display:flex;gap:8px;align-items:center}
  .chat-header p{margin:6px 0 0;font-size:13px;opacity:.95}
  .chat-body{padding:16px 16px 8px;overflow:auto}
  .search{
    background:#f0fdf4;border:1px solid #d1fae5;border-radius:12px;padding:10px 12px;display:flex;gap:8px;align-items:center
  }
  .search input{border:none;outline:0;background:transparent;width:100%}
  .list{margin-top:14px;display:grid;gap:10px}
  .option{
    border:1px solid #e5e7eb;border-radius:14px;padding:12px 12px;display:flex;justify-content:space-between;align-items:center;
    cursor:pointer;background:#fff;transition:transform .12s ease, box-shadow .12s ease, border-color .12s ease;
  }
  .option:hover{transform:translateY(-1px);box-shadow:0 8px 20px rgba(0,0,0,.06);border-color:#d1d5db}
  .badge{font-size:12px;padding:4px 8px;border-radius:999px;background:#f3f4f6}
  .footer{padding:12px 16px;background:#fafafa;border-top:1px solid #f0f0f0;font-size:12px;color:#6b7280;display:flex;align-items:center;gap:8px}
  .powered{display:inline-flex;align-items:center;gap:6px}
  .close-x{position:absolute;right:10px;top:10px;background:rgba(255,255,255,.25);color:#fff;border:none;border-radius:10px;padding:6px 8px;cursor:pointer}
  .close-x:hover{background:rgba(255,255,255,.35)}
  /* KÃ¼Ã§Ã¼k ekran iyileÅŸtirmeleri */
  @media (max-height:680px){ .chat-panel{max-height:64vh} }
</style>
</head>
<body>

<!-- Sohbet paneli -->
<div id="chatPanel" class="chat-panel" role="dialog" aria-modal="true" aria-labelledby="chatTitle">
  <button class="close-x" aria-label="Kapat" onclick="togglePanel(false)">âœ•</button>
  <div class="chat-header">
    <h3 id="chatTitle">Merhaba ðŸ‘‹</h3>
    <p>YardÄ±ma mÄ± ihtiyacÄ±nÄ±z var? AÅŸaÄŸÄ±dan bir konu seÃ§in.</p>
  </div>
  <div class="chat-body">
   

    <div class="list" id="options">
      <!-- SeÃ§enekler JS ile dolduruluyor -->
    </div>
  </div>
  <div class="footer">
    <span class="powered">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M12 3v18M3 12h18" stroke="#10b981" stroke-width="2" stroke-linecap="round"/></svg>
      Powered by <strong style="color:#10b981">Hidrokontrol</strong>
    </span>
  </div>
</div>

<!-- YÃ¼zen dÃ¼ÄŸme -->
<button id="chatFab" class="chat-fab" aria-haspopup="dialog" aria-controls="chatPanel" aria-expanded="false" title="Sohbeti aÃ§">
  <!-- konuÅŸma balonu ikonu -->
  <svg width="26" height="26" viewBox="0 0 24 24" fill="none" aria-hidden="true">
    <path d="M21 12a8.5 8.5 0 1 1-3.1-6.6L21 6" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M8 13h4M8 9h8" stroke="white" stroke-width="2" stroke-linecap="round"/>
  </svg>
</button>

<script>
/* ------- Basit yapÄ±landÄ±rma ------- */
const DEFAULT_MESSAGE = "Merhaba, size nasÄ±l yardÄ±mcÄ± olabilirim?";
const CHANNELS = [
  { label: "Hidrolik",   phone: "905388614108" },
  { label: "PnÃ¶matik",   phone: "+905331457572" },
  { label: "Elektronik", phone: "+905054120681" },
];
// Not: NumaralarÄ± uluslararasÄ± biÃ§imde yaz (Ã¶rn. +90xxxxxxxxxx).
// Ä°stersen data-attr ile HTML tarafÄ±nda da tanÄ±mlayabilirsin.

/* ------- UI mantÄ±ÄŸÄ± ------- */
const panel = document.getElementById("chatPanel");
const fab   = document.getElementById("chatFab");
const list  = document.getElementById("options");

function togglePanel(force){
  const willOpen = (typeof force === "boolean") ? force : panel.style.display === "none" || panel.style.display === "";
  panel.classList.toggle("open", willOpen);
  fab.setAttribute("aria-expanded", willOpen ? "true" : "false");
}

fab.addEventListener("click", () => togglePanel());

/* SeÃ§enek butonlarÄ±nÄ± oluÅŸtur */
function renderOptions(){
  list.innerHTML = "";
  CHANNELS.forEach(ch => {
    const item = document.createElement("button");
    item.className = "option";
    item.type = "button";
    item.innerHTML = `
      <span style="display:flex;align-items:center;gap:10px">
        <span style="width:10px;height:10px;border-radius:999px;background:#10b981;display:inline-block"></span>
        <strong>${ch.label}</strong>
      </span>
      <span class="badge">WhatsApp</span>
    `;
    item.addEventListener("click", () => openWhatsApp(ch.phone, DEFAULT_MESSAGE));
    list.appendChild(item);
  });
}

function openWhatsApp(phone, message){
  // wa.me formatÄ±, boÅŸluk ve TR karakterleri encode ediliyor
  const txt = encodeURIComponent(message);
  // Telefon numarasÄ±ndan + ve boÅŸluklarÄ± temizle
  const cleaned = (phone+"").replace(/[^\d]/g,"");
  const url = `https://wa.me/${cleaned}?text=${txt}`;
  // Yeni sekmede aÃ§
  window.open(url, "_blank", "noopener,noreferrer");
}

renderOptions();

/* Panel dÄ±ÅŸÄ±nda tÄ±klayÄ±nca kapat (mobil iÃ§in tolere) */
document.addEventListener("click", (e)=>{
  const clickInside = panel.contains(e.target) || fab.contains(e.target);
  if(!clickInside && panel.classList.contains("open")) togglePanel(false);
});

/* ESC ile kapat */
document.addEventListener("keydown", (e)=>{
  if(e.key === "Escape" && panel.classList.contains("open")) togglePanel(false);
});
</script>
<script>
// SaÄŸ tÄ±klamayÄ± engelle
document.addEventListener("contextmenu", function(e) {
    e.preventDefault();
});
</script>

</body>
</html>
